(self.webpackChunkthesis_gantt_chart=self.webpackChunkthesis_gantt_chart||[]).push([[940],{2450:function(e,s,t){var a,r,i;r=[],void 0===(i="function"===typeof(a=function(){"use strict";function s(e,s){return"undefined"==typeof s?s={autoBom:!1}:"object"!=typeof s&&(console.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function a(e,s,t){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){o(a.response,s,t)},a.onerror=function(){console.error("could not download file")},a.send()}function r(e){var s=new XMLHttpRequest;s.open("HEAD",e,!1);try{s.send()}catch(e){}return 200<=s.status&&299>=s.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(s)}}var n="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof t.g&&t.g.global===t.g?t.g:void 0,l=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=n.saveAs||("object"!=typeof window||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(e,s,t){var l=n.URL||n.webkitURL,o=document.createElement("a");s=s||e.name||"download",o.download=s,o.rel="noopener","string"==typeof e?(o.href=e,o.origin===location.origin?i(o):r(o.href)?a(e,s,t):i(o,o.target="_blank")):(o.href=l.createObjectURL(e),setTimeout((function(){l.revokeObjectURL(o.href)}),4e4),setTimeout((function(){i(o)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(s(e,n),t);else if(r(e))a(e,t,n);else{var l=document.createElement("a");l.href=e,l.target="_blank",setTimeout((function(){i(l)}))}}:function(e,s,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return a(e,s,t);var i="application/octet-stream"===e.type,o=/constructor/i.test(n.HTMLElement)||n.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&o||l)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},d.readAsDataURL(e)}else{var m=n.URL||n.webkitURL,x=m.createObjectURL(e);r?r.location=x:location.href=x,r=null,setTimeout((function(){m.revokeObjectURL(x)}),4e4)}});n.saveAs=o.saveAs=o,e.exports=o})?a.apply(s,r):a)||(e.exports=i)},5940:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(5043),r=t(579);const i=e=>{let{files:s,position:t,isVisible:a,onFileClick:i,onClose:n}=e;if(!a||!s||0===s.length)return null;const l=e=>{switch(e.toLowerCase()){case"pdf":return(0,r.jsx)("svg",{className:"w-4 h-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M4 18h12V6l-4-4H4v16zm8-14v3h3l-3-3z"})});case"m4a":case"wav":case"mp3":return(0,r.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M18 3a1 1 0 0 0-1.196-.98l-10 2A1 1 0 0 0 6 5v6.499c-.313-.139-.648-.248-1-.291C4.227 11.061 3 11.3 3 12.5s1.227 1.439 2 1.291c.77-.147 1-.736 1-1.291V6.697l9-1.8v5.542c-.313-.139-.648-.248-1-.291C13.227 10.001 12 10.24 12 11.44s1.227 1.439 2 1.291c.77-.147 1-.736 1-1.291V3z"})});default:return(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M4 4v12h12V8l-4-4H4zm8 0v3h3l-3-3z"})})}},o=e=>{if(0===e)return"0 B";const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(1))+" "+["B","KB","MB","GB"][s]},c=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;if(e.length<=s)return e;const t=e.split(".").pop();return e.substring(0,e.lastIndexOf(".")).substring(0,s-t.length-4)+"..."+"."+t};return(0,r.jsxs)("div",{className:"fixed z-50 bg-white border border-gray-300 rounded-lg shadow-lg p-3 min-w-64 max-w-80",style:{left:t.x+10,top:t.y-10,transform:t.x>window.innerWidth-320?"translateX(-100%)":"none"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("h4",{className:"text-sm font-semibold text-gray-800",children:["Files (",s.length,")"]}),(0,r.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,r.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:s.map(((e,s)=>(0,r.jsxs)("div",{className:"flex items-center space-x-2 p-2 rounded hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>i(e),children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:l(e.type)}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:c(e.name)}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[o(e.size),e.uploadDate&&(0,r.jsx)("span",{className:"ml-2",children:new Date(e.uploadDate).toLocaleDateString()})]})]}),(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]},s)))})]})},n=e=>{let{file:s,isOpen:t,onClose:i}=e;const[n,l]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null);if((0,a.useEffect)((()=>{if(t&&s){l(!0),c(null);const e=setTimeout((()=>{l(!1)}),500);return()=>clearTimeout(e)}}),[t,s]),!t||!s)return null;const d=e=>{switch(e.toLowerCase()){case"pdf":return(0,r.jsx)("svg",{className:"w-16 h-16 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M4 18h12V6l-4-4H4v16zm8-14v3h3l-3-3z"})});case"m4a":case"wav":case"mp3":return(0,r.jsx)("svg",{className:"w-16 h-16 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M18 3a1 1 0 0 0-1.196-.98l-10 2A1 1 0 0 0 6 5v6.499c-.313-.139-.648-.248-1-.291C4.227 11.061 3 11.3 3 12.5s1.227 1.439 2 1.291c.77-.147 1-.736 1-1.291V6.697l9-1.8v5.542c-.313-.139-.648-.248-1-.291C13.227 10.001 12 10.24 12 11.44s1.227 1.439 2 1.291c.77-.147 1-.736 1-1.291V3z"})});default:return(0,r.jsx)("svg",{className:"w-16 h-16 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M4 4v12h12V8l-4-4H4zm8 0v3h3l-3-3z"})})}};return(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:d(s.type||s.name.split(".").pop())}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 truncate",children:s.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[(e=>{if(0===e)return"0 B";const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(1))+" "+["B","KB","MB","GB"][s]})(s.size),s.uploadDate&&(0,r.jsxs)("span",{className:"ml-2",children:["\u2022 Uploaded ",new Date(s.uploadDate).toLocaleDateString()]})]})]})]}),(0,r.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,r.jsx)("div",{className:"p-6",children:(()=>{if(n)return(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(o)return(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsxs)("div",{className:"text-red-500 text-center",children:[(0,r.jsx)("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,r.jsx)("p",{children:"Error loading file preview"})]})});const e=s.type||s.name.split(".").pop();if((e=>["pdf","jpg","jpeg","png","gif","svg"].includes(e.toLowerCase()))(e)){if("pdf"===e.toLowerCase())return(0,r.jsx)("div",{className:"h-96 border rounded-lg bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[d(e),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"PDF Preview"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Click \u201cOpen File\u201d to view in full"})]})});if(["jpg","jpeg","png","gif","svg"].includes(e.toLowerCase()))return(0,r.jsx)("div",{className:"h-96 border rounded-lg bg-gray-50 flex items-center justify-center",children:(0,r.jsx)("img",{src:s.url||s.path,alt:s.name,className:"max-h-full max-w-full object-contain",onError:()=>c("Failed to load image")})})}return["m4a","wav","mp3"].includes(e.toLowerCase())?(0,r.jsx)("div",{className:"h-64 border rounded-lg bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[d(e),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Audio File"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Click \u201cOpen File\u201d to play"}),s.url&&(0,r.jsxs)("audio",{controls:!0,className:"mt-4",children:[(0,r.jsx)("source",{src:s.url,type:`audio/${e}`}),"Your browser does not support the audio element."]})]})}):(0,r.jsx)("div",{className:"h-64 border rounded-lg bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[d(e),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"File Preview"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Click \u201cOpen File\u201d to download"})]})})})()}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[s.description&&(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Description:"})," ",s.description]}),s.tags&&s.tags.length>0&&(0,r.jsxs)("p",{className:"mt-1",children:[(0,r.jsx)("strong",{children:"Tags:"})," ",s.tags.join(", ")]})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{onClick:()=>{s.url?window.open(s.url,"_blank"):console.log("Download file:",s)},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Open File"}),(0,r.jsx)("button",{onClick:i,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Close"})]})]})]})})},l=e=>{let{allFiles:s,onFileSelect:t,onClose:i,isOpen:n}=e;const[l,o]=(0,a.useState)(""),[c,d]=(0,a.useState)("all"),[m,x]=(0,a.useState)("name"),[h,p]=(0,a.useState)("asc");(0,a.useEffect)((()=>{n&&(o(""),d("all"),x("name"),p("asc"))}),[n]);const u=(0,a.useMemo)((()=>{if(!s||0===s.length)return[];let e=s.filter((e=>{const s=e.file,t=""===l||s.name.toLowerCase().includes(l.toLowerCase())||s.description&&s.description.toLowerCase().includes(l.toLowerCase())||s.tags&&s.tags.some((e=>e.toLowerCase().includes(l.toLowerCase()))),a=s.type||s.name.split(".").pop().toLowerCase();return t&&("all"===c||a===c)}));return e.sort(((e,s)=>{const t=e.file,a=s.file;let r=0;switch(m){case"name":r=t.name.localeCompare(a.name);break;case"date":r=(t.uploadDate?new Date(t.uploadDate):new Date(0))-(a.uploadDate?new Date(a.uploadDate):new Date(0));break;case"size":r=(t.size||0)-(a.size||0);break;case"type":{const e=t.type||t.name.split(".").pop(),s=a.type||a.name.split(".").pop();r=e.localeCompare(s);break}default:r=0}return"asc"===h?r:-r})),e}),[s,l,c,m,h]),g=e=>{switch(e.toLowerCase()){case"pdf":return(0,r.jsx)("svg",{className:"w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M4 18h12V6l-4-4H4v16zm8-14v3h3l-3-3z"})});case"m4a":case"wav":case"mp3":return(0,r.jsx)("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M18 3a1 1 0 0 0-1.196-.98l-10 2A1 1 0 0 0 6 5v6.499c-.313-.139-.648-.248-1-.291C4.227 11.061 3 11.3 3 12.5s1.227 1.439 2 1.291c.77-.147 1-.736 1-1.291V6.697l9-1.8v5.542c-.313-.139-.648-.248-1-.291C13.227 10.001 12 10.24 12 11.44s1.227 1.439 2 1.291c.77-.147 1-.736 1-1.291V3z"})});default:return(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M4 4v12h12V8l-4-4H4zm8 0v3h3l-3-3z"})})}},f=e=>{if(0===e)return"0 B";const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(1))+" "+["B","KB","MB","GB"][s]},v=e=>{m===e?p("asc"===h?"desc":"asc"):(x(e),p("asc"))},b=e=>m!==e?(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M5 12l5-5 5 5H5z"})}):"asc"===h?(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M5 12l5-5 5 5H5z"})}):(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M15 8l-5 5-5-5h10z"})});return n?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-5xl w-full max-h-[90vh] overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["File Search (",u.length," files)"]}),(0,r.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,r.jsx)("div",{className:"p-6 border-b bg-gray-50",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),(0,r.jsx)("input",{type:"text",placeholder:"Search files by name, description, or tags...",value:l,onChange:e=>o(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})}),(0,r.jsx)("div",{className:"min-w-0",children:(0,r.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"all",children:"All Types"}),(()=>{if(!s)return[];const e=new Set;return s.forEach((s=>{const t=s.file.type||s.file.name.split(".").pop().toLowerCase();e.add(t)})),Array.from(e).sort()})().map((e=>(0,r.jsx)("option",{value:e,children:e.toUpperCase()},e)))]})})]})}),(0,r.jsx)("div",{className:"flex-1 overflow-hidden",children:0===u.length?(0,r.jsx)("div",{className:"flex items-center justify-center h-64 text-gray-500",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V4z",clipRule:"evenodd"})}),(0,r.jsx)("p",{children:"No files found matching your criteria"})]})}):(0,r.jsxs)("div",{className:"overflow-auto h-96",children:[(0,r.jsx)("div",{className:"sticky top-0 bg-gray-50 border-b px-6 py-3",children:(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:[(0,r.jsxs)("div",{className:"col-span-5 flex items-center cursor-pointer hover:text-gray-700",onClick:()=>v("name"),children:["Name",b("name")]}),(0,r.jsxs)("div",{className:"col-span-2 flex items-center cursor-pointer hover:text-gray-700",onClick:()=>v("type"),children:["Type",b("type")]}),(0,r.jsxs)("div",{className:"col-span-2 flex items-center cursor-pointer hover:text-gray-700",onClick:()=>v("size"),children:["Size",b("size")]}),(0,r.jsxs)("div",{className:"col-span-2 flex items-center cursor-pointer hover:text-gray-700",onClick:()=>v("date"),children:["Date",b("date")]}),(0,r.jsx)("div",{className:"col-span-1",children:"Activity"})]})}),(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:u.map(((e,s)=>{const a=e.file,i=a.type||a.name.split(".").pop();return(0,r.jsxs)("div",{className:"px-6 py-4 hover:bg-gray-50 cursor-pointer transition-colors grid grid-cols-12 gap-4 items-center",onClick:()=>t(a),children:[(0,r.jsxs)("div",{className:"col-span-5 flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:g(i)}),(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:a.name}),a.description&&(0,r.jsx)("div",{className:"text-xs text-gray-500 truncate",children:a.description})]})]}),(0,r.jsx)("div",{className:"col-span-2 text-sm text-gray-500 uppercase",children:i}),(0,r.jsx)("div",{className:"col-span-2 text-sm text-gray-500",children:f(a.size)}),(0,r.jsx)("div",{className:"col-span-2 text-sm text-gray-500",children:a.uploadDate?new Date(a.uploadDate).toLocaleDateString():"-"}),(0,r.jsx)("div",{className:"col-span-1 text-xs text-gray-400 truncate",children:e.activityName})]},s)}))})]})}),(0,r.jsx)("div",{className:"p-6 border-t bg-gray-50",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[u.length," of ",(null===s||void 0===s?void 0:s.length)||0," files shown"]}),(0,r.jsx)("button",{onClick:i,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Close"})]})})]})}):null};var o=t(2450);const c=new class{constructor(){this.progressCallbacks=new Map,this.templates={pdf:{title:"Thesis GANTT Chart",author:"Thesis Project",colors:{primary:"#2563eb",secondary:"#64748b",accent:"#10b981",completed:"#22c55e",inProgress:"#f59e0b",pending:"#6b7280"}},excel:{sheetName:"GANTT Chart",headerStyle:{font:{bold:!0,sz:12},fill:{fgColor:{rgb:"2563eb"}},alignment:{horizontal:"center"}}},powerpoint:{title:"Thesis GANTT Chart Presentation",subtitle:"Project Timeline and Progress",layout:"LAYOUT_16x9"}},this.exportOptions={includeCompleted:!0,includePending:!0,includeInProgress:!0,dateRange:null,specificTasks:null,includeFiles:!1,includeNotes:!1,watermark:null,customTitle:null}}registerProgressCallback(e,s){this.progressCallbacks.set(e,s)}updateProgress(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const a=this.progressCallbacks.get(e);a&&a({progress:s,message:t})}getGanttData(){try{const e=localStorage.getItem("gantt-tasks");if(!e)return[];const s=JSON.parse(e);return 1===s.v&&s.t?s.t.map((e=>({id:e.i,name:e.n,activities:e.a.map((e=>({id:e.i,name:e.n,weeks:e.w,days:e.d,owner:e.o,color:e.c,isGateway:e.g,gatewayInfo:e.gi,files:e.files||[]})))}))):s}catch(e){return console.error("Failed to retrieve GANTT data:",e),[]}}getCompletedDays(){try{const e=localStorage.getItem("gantt-completed-days");return e?JSON.parse(e):{}}catch(e){return{}}}filterDataByOptions(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t={...this.exportOptions,...s};let a=[...e];return t.specificTasks&&t.specificTasks.length>0&&(a=a.filter((e=>t.specificTasks.includes(e.id)))),a=a.map((e=>({...e,activities:e.activities.filter((e=>{const s=this.calculateActivityProgress(e);return!(100===s&&!t.includeCompleted)&&(!(s>0&&s<100&&!t.includeInProgress)&&!(0===s&&!t.includePending))}))}))).filter((e=>e.activities.length>0)),a}calculateActivityProgress(e){const s=this.getCompletedDays();let t=0,a=0;return e.weeks.forEach((r=>{e.days.forEach((i=>{t++;const n=`${e.id}_${r}_${i}`;s[n]&&a++}))})),t>0?Math.round(a/t*100):0}async exportToPDF(){throw console.warn("PDF export temporarily disabled for deployment"),new Error("PDF export is temporarily disabled for deployment. Please use JSON export instead.")}async exportToExcel(){throw console.warn("Excel export temporarily disabled for deployment"),new Error("Excel export is temporarily disabled for deployment. Please use JSON export instead.")}async exportToPowerPoint(){throw console.warn("PowerPoint export temporarily disabled for deployment"),new Error("PowerPoint export is temporarily disabled for deployment. Please use JSON export instead.")}async exportToZIP(){throw console.warn("ZIP export temporarily disabled for deployment"),new Error("ZIP export is temporarily disabled for deployment. Please use JSON export instead.")}async exportToJSON(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=`json_${Date.now()}`;try{this.updateProgress(s,10,"Initializing JSON export...");const t=this.getGanttData(),a=this.filterDataByOptions(t,e);this.updateProgress(s,30,"Processing data...");const r={meta:{exportedAt:(new Date).toISOString(),version:"1.0",title:e.customTitle||this.templates.pdf.title,totalTasks:a.length,totalActivities:a.reduce(((e,s)=>e+s.activities.length),0)},tasks:a,completedDays:this.getCompletedDays(),options:e};this.updateProgress(s,70,"Creating JSON file...");const i=JSON.stringify(r,null,2),n=new Blob([i],{type:"application/json"});this.updateProgress(s,90,"Saving file...");const l=`gantt-chart-${(new Date).toISOString().split("T")[0]}.json`;return(0,o.saveAs)(n,l),this.updateProgress(s,100,"JSON export completed"),{success:!0,filename:l,data:r}}catch(t){throw console.error("JSON export failed:",t),t}}generateCSV(e){let s="Task,Activity,Owner,Progress,Total Days,Completed Days,Start Week,Duration\n";return e.forEach((e=>{e.activities.forEach((t=>{const a=this.calculateActivityProgress(t),r=t.weeks.length*t.days.length,i=Math.round(a/100*r),n=Math.min(...t.weeks),l=t.weeks.length;s+=`"${e.name}","${t.name}","${t.owner}",${a}%,${r},${i},${n},${l}\n`}))})),s}generateTextSummary(e){let s="GANTT Chart Summary\n";return s+="==================\n\n",s+=`Generated on: ${(new Date).toLocaleString()}\n`,s+=`Total Tasks: ${e.length}\n`,s+=`Total Activities: ${e.reduce(((e,s)=>e+s.activities.length),0)}\n\n`,e.forEach((e=>{s+=`Task: ${e.name}\n`,s+="-".repeat(e.name.length+6)+"\n",e.activities.forEach((e=>{const t=this.calculateActivityProgress(e);s+=`  \u2022 ${e.name} (${e.owner}) - ${t}% complete\n`})),s+="\n"})),s}getWeekHeaders(){return Array.from({length:52},((e,s)=>`Week ${s+1}`))}updateTemplate(e,s){this.templates[e]&&(this.templates[e]={...this.templates[e],...s})}getTemplate(e){return this.templates[e]||null}setDefaultExportOptions(e){this.exportOptions={...this.exportOptions,...e}}getDefaultExportOptions(){return{...this.exportOptions}}cleanup(){this.progressCallbacks.clear()}},d=e=>{let{isOpen:s,onClose:t,ganttData:i=[]}=e;const[n,l]=(0,a.useState)("formats"),[o,d]=(0,a.useState)({includeCompleted:!0,includePending:!0,includeInProgress:!0,specificTasks:[],includeFiles:!1,includeNotes:!1,customTitle:"",watermark:{enabled:!1,text:"",opacity:.1}}),[m,x]=(0,a.useState)({}),[h,p]=(0,a.useState)(!1),[u,g]=(0,a.useState)([]),[f,v]=(0,a.useState)(!1),[b,y]=(0,a.useState)([]);(0,a.useEffect)((()=>{if(s){const e=c.getGanttData();y(e),g([]),x({}),p(!1)}}),[s]);const j=(e,s)=>{d((t=>({...t,[e]:s})))},w=(e,s)=>{d((t=>({...t,watermark:{...t.watermark,[e]:s}})))},N=async e=>{p(!0);const s=`${e}_${Date.now()}`;try{c.registerProgressCallback(s,(s=>{x((t=>({...t,[e]:s})))}));const t=(()=>{const e={...o};return e.watermark.enabled&&e.watermark.text||(e.watermark=null),0===e.specificTasks.length&&(e.specificTasks=null),e.customTitle.trim()||(e.customTitle=null),e})();let a;switch(e){case"pdf":a=await c.exportToPDF(t);break;case"excel":a=await c.exportToExcel(t);break;case"powerpoint":a=await c.exportToPowerPoint(t);break;case"json":a=await c.exportToJSON(t);break;case"zip":a=await c.exportToZIP(t);break;default:throw new Error(`Unknown export type: ${e}`)}g((s=>[...s,{type:e,timestamp:new Date,...a}])),setTimeout((()=>{x((s=>{const t={...s};return delete t[e],t}))}),2e3)}catch(t){console.error(`Export failed for ${e}:`,t),g((s=>[...s,{type:e,timestamp:new Date,success:!1,error:t.message}]))}finally{p(!1)}};return s?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Export GANTT Chart"}),(0,r.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:h,children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,r.jsx)("button",{onClick:()=>l("formats"),className:"px-6 py-3 text-sm font-medium border-b-2 transition-colors "+("formats"===n?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Export Formats"}),(0,r.jsx)("button",{onClick:()=>l("options"),className:"px-6 py-3 text-sm font-medium border-b-2 transition-colors "+("options"===n?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Options"}),(0,r.jsxs)("button",{onClick:()=>l("results"),className:"px-6 py-3 text-sm font-medium border-b-2 transition-colors "+("results"===n?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:["Results (",u.length,")"]})]}),(0,r.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:["formats"===n&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Select an export format to generate your GANTT chart presentation files."}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{id:"pdf",name:"PDF",description:"Portable document with timeline table",icon:"\ud83d\udcc4",color:"bg-red-500"},{id:"excel",name:"Excel",description:"Spreadsheet with timeline and summary",icon:"\ud83d\udcca",color:"bg-green-500"},{id:"powerpoint",name:"PowerPoint",description:"Presentation slides with overview",icon:"\ud83d\udcfd\ufe0f",color:"bg-orange-500"},{id:"json",name:"JSON",description:"Raw data for import/backup",icon:"\ud83d\udccb",color:"bg-blue-500"},{id:"zip",name:"ZIP Archive",description:"Complete export package",icon:"\ud83d\udce6",color:"bg-purple-500"}].map((e=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,r.jsxs)("div",{className:"flex items-center mb-3",children:[(0,r.jsx)("div",{className:`w-10 h-10 ${e.color} rounded-lg flex items-center justify-center text-white text-lg mr-3`,children:e.icon}),(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:e.description}),m[e.id]&&(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[(0,r.jsx)("span",{children:m[e.id].message}),(0,r.jsxs)("span",{children:[Math.round(m[e.id].progress),"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${m[e.id].progress}%`}})})]}),(0,r.jsx)("button",{onClick:()=>N(e.id),disabled:h,className:"w-full py-2 px-4 rounded-md text-sm font-medium transition-colors "+(h?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"),children:m[e.id]?"Exporting...":`Export ${e.name}`})]},e.id)))})]}),"options"===n&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Content Filters"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:o.includeCompleted,onChange:e=>j("includeCompleted",e.target.checked),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm",children:"Completed Activities"})]}),(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:o.includeInProgress,onChange:e=>j("includeInProgress",e.target.checked),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm",children:"In Progress Activities"})]}),(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:o.includePending,onChange:e=>j("includePending",e.target.checked),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm",children:"Pending Activities"})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Task Selection"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Leave unchecked to include all tasks, or select specific tasks to export."}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:b.map((e=>(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:o.specificTasks.includes(e.id),onChange:s=>{return t=e.id,a=s.target.checked,void d((e=>({...e,specificTasks:a?[...e.specificTasks,t]:e.specificTasks.filter((e=>e!==t))})));var t,a},className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm truncate",children:e.name})]},e.id)))})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Custom Title"}),(0,r.jsx)("input",{type:"text",value:o.customTitle,onChange:e=>j("customTitle",e.target.value),placeholder:"Leave empty to use default title",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsxs)("button",{onClick:()=>v(!f),className:"flex items-center justify-between w-full text-left",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:"Advanced Options"}),(0,r.jsx)("svg",{className:"w-5 h-5 transform transition-transform "+(f?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f&&(0,r.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center mb-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:o.watermark.enabled,onChange:e=>w("enabled",e.target.checked),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Add Watermark"})]}),o.watermark.enabled&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-2",children:[(0,r.jsx)("input",{type:"text",value:o.watermark.text,onChange:e=>w("text",e.target.value),placeholder:"Watermark text",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-xs text-gray-600 mb-1",children:["Opacity: ",Math.round(100*o.watermark.opacity),"%"]}),(0,r.jsx)("input",{type:"range",min:"0.05",max:"0.5",step:"0.05",value:o.watermark.opacity,onChange:e=>w("opacity",parseFloat(e.target.value)),className:"w-full"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:o.includeFiles,onChange:e=>j("includeFiles",e.target.checked),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm",children:"Include Associated Files"})]}),(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:o.includeNotes,onChange:e=>j("includeNotes",e.target.checked),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm",children:"Include Notes"})]})]})]})]})]}),"results"===n&&(0,r.jsx)("div",{className:"space-y-4",children:0===u.length?(0,r.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,r.jsx)("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,r.jsx)("p",{children:"No exports have been generated yet."}),(0,r.jsx)("p",{className:"text-sm",children:"Switch to the Export Formats tab to begin."})]}):(0,r.jsx)("div",{className:"space-y-3",children:u.map(((e,s)=>(0,r.jsx)("div",{className:"border rounded-lg p-4 "+(e.success?"border-green-200 bg-green-50":"border-red-200 bg-red-50"),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm mr-3 "+(e.success?"bg-green-500":"bg-red-500"),children:e.success?"\u2713":"\u2717"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium capitalize",children:[e.type," Export"]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.timestamp.toLocaleString()})]})]}),(0,r.jsx)("div",{className:"text-right",children:e.success?(0,r.jsxs)("p",{className:"text-sm text-green-600 font-medium",children:["Downloaded: ",e.filename]}):(0,r.jsxs)("p",{className:"text-sm text-red-600",children:["Error: ",e.error]})})]})},s)))})})]}),(0,r.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[b.length," tasks available for export"]}),(0,r.jsx)("div",{className:"flex space-x-3",children:(0,r.jsx)("button",{onClick:t,disabled:h,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors disabled:opacity-50",children:"Close"})})]})]})}):null},m=()=>{var e;const[s,t]=(0,a.useState)(null),[o,c]=(0,a.useState)({x:0,y:0}),[m,x]=(0,a.useState)({}),[h,p]=(0,a.useState)({isVisible:!1,files:[],position:{x:0,y:0}}),[u,g]=(0,a.useState)(null),[f,v]=(0,a.useState)(!1),[b,y]=(0,a.useState)(!1),[j,w]=(0,a.useState)(null),[N,k]=(0,a.useState)(null),[C,S]=(0,a.useState)("saved"),[T,M]=(0,a.useState)(null),[E,D]=(0,a.useState)(null),[A]=(0,a.useState)(!0),L=(0,a.useRef)(null),I=(0,a.useCallback)((e=>{try{const s={v:1,d:Date.now(),t:e.map((e=>({i:e.id,n:e.name,a:e.activities.map((e=>({i:e.id,n:e.name,w:e.weeks,d:e.days,o:e.owner,c:e.color,g:e.isGateway,gi:e.gatewayInfo})))})))};return JSON.stringify(s)}catch(s){return JSON.stringify(e)}}),[]),P=(0,a.useCallback)((e=>{try{const s=JSON.parse(e);return 1===s.v&&s.t?s.t.map((e=>({id:e.i,name:e.n,activities:e.a.map((e=>({id:e.i,name:e.n,weeks:e.w,days:e.d,owner:e.o,color:e.c,isGateway:e.g,gatewayInfo:e.gi})))}))):s}catch(s){return JSON.parse(e)}}),[]),z=(0,a.useCallback)((async e=>{if(A){S("saving"),D(null);try{const t=I(e),a="gantt-tasks",r="gantt-tasks-backup",i="storage-test";try{localStorage.setItem(i,t),localStorage.removeItem(i)}catch(s){throw new Error("Storage limit exceeded. Please clear some browser data.")}const n=localStorage.getItem(a);n&&localStorage.setItem(r,n),localStorage.setItem(a,t),localStorage.setItem("gantt-save-timestamp",Date.now().toString()),S("saved"),M(new Date)}catch(t){S("error"),D(t.message);const e=localStorage.getItem("gantt-tasks-backup");e&&localStorage.setItem("gantt-tasks",e)}}}),[A,I]),O=(0,a.useCallback)((e=>{L.current&&clearTimeout(L.current),S("unsaved"),L.current=setTimeout((()=>{z(e)}),2e3)}),[z]),[G,F]=(0,a.useState)(!1),[B,R]=(0,a.useState)(!1),[$,V]=(0,a.useState)(null),[W,U]=(0,a.useState)(""),[J,H]=(0,a.useState)({show:!1,message:"",type:""}),[_,q]=(0,a.useState)(!1),[Y,K]=(0,a.useState)("task"),[Z,X]=(0,a.useState)({name:"",parentTaskId:null,weeks:[],days:[],owner:"ME",color:"bg-blue-400",isGateway:!1}),[Q,ee]=(0,a.useState)(null),[se,te]=(0,a.useState)(null),[ae,re]=(0,a.useState)(!1),[ie,ne]=(0,a.useState)(null),[le,oe]=(0,a.useState)([]),[ce,de]=(0,a.useState)(!1),me=(0,a.useRef)(null),xe=(0,a.useRef)(null),he=[{name:"JUN 1-7",days:["S","M","T","W","T","F","S"]},{name:"JUN 8-14",days:["S","M","T","W","T","F","S"]},{name:"JUN 15-21",days:["S","M","T","W","T","F","S"]},{name:"JUN 22-28",days:["S","M","T","W","T","F","S"]},{name:"JUN 29-JUL 5",days:["S","M","T","W","T","F","S"]},{name:"JUL 6-12",days:["S","M","T","W","T","F","S"]},{name:"JUL 13-19",days:["S","M","T","W","T","F","S"]},{name:"JUL 20-26",days:["S","M","T","W","T","F","S"]},{name:"JUL 27-AUG 2",days:["S","M","T","W","T","F","S"]},{name:"AUG 3-9",days:["S","M","T","W","T","F","S"]},{name:"AUG 10-16",days:["S","M","T","W","T","F","S"]},{name:"AUG 17-23",days:["S","M","T","W","T","F","S"]},{name:"AUG 24-30",days:["S","M","T","W","T","F","S"]},{name:"AUG 31-SEP 1",days:["S","M","-","-","-","-","-"]}],[pe,ue]=(0,a.useState)([{id:1,name:"PLANNING",activities:[{id:1.1,name:"Confirm topic & objectives",weeks:[0],days:[1,2,3],owner:"ME",files:[{name:"thesis-proposal-draft.pdf",type:"pdf",size:2048576,uploadDate:"2024-06-01",description:"Initial thesis proposal draft",tags:["proposal","draft"],url:"#"},{name:"research-objectives.pdf",type:"pdf",size:512e3,uploadDate:"2024-06-02",description:"Detailed research objectives document",tags:["objectives","research"],url:"#"}],color:"bg-blue-400",isGateway:!1},{id:1.2,name:"Write research proposal",weeks:[0,1],days:[4,5,6,0,1],owner:"ME",files:[],color:"bg-blue-400",isGateway:!0,gatewayInfo:{name:"Research Proposal Approved",deliverables:["Approved research topic","Research objectives defined","Initial literature survey","Methodology outline"],nextSteps:"Proceed to detailed research and prototype development"}}]},{id:2,name:"PROTOTYPE DEVELOPMENT",activities:[{id:2.1,name:"Requirements gathering",weeks:[0,1],days:[1,2,3,4,5,6,0],owner:"ME",files:[{name:"requirements-notes.m4a",type:"m4a",size:5242880,uploadDate:"2024-06-03",description:"Voice notes from stakeholder interviews",tags:["requirements","interviews","audio"],url:"#"}],color:"bg-purple-400",isGateway:!1},{id:2.2,name:"Design phase",weeks:[1,2],days:[1,2,3,4,5,6,0,1,2,3],owner:"ME",files:[],color:"bg-purple-400",isGateway:!1},{id:2.3,name:"Test development (TDD)",weeks:[2,3],days:[4,5,6,0,1,2,3],owner:"ME",files:[],color:"bg-purple-400",isGateway:!1},{id:2.4,name:"Implementation (Agile sprints)",weeks:[3,4,5,6],days:[4,5,6,0,1,2,3,4,5,6,0,1,2,3,4,5,6,0,1,2,3],owner:"ME",files:[{name:"sprint-planning-notes.wav",type:"wav",size:8388608,uploadDate:"2024-07-01",description:"Sprint planning meeting recording",tags:["sprint","planning","agile"],url:"#"},{name:"implementation-demo.mp3",type:"mp3",size:6291456,uploadDate:"2024-07-15",description:"Demo recording of prototype implementation",tags:["demo","prototype","implementation"],url:"#"}],color:"bg-purple-400",isGateway:!1},{id:2.5,name:"DevOps implementation",weeks:[6,7,8],days:[4,5,6,0,1,2,3,4,5,6,0],owner:"ME",files:[],color:"bg-indigo-400",isGateway:!1},{id:2.6,name:"Test and debug prototype",weeks:[8,9,10],days:[1,2,3,4,5,6,0,1,2,3,4,5,6,0],owner:"ME",files:[],color:"bg-indigo-400",isGateway:!0,gatewayInfo:{name:"Functional Prototype Complete",deliverables:["Working AI-powered CSV to CSA transition tool","Test documentation","Performance metrics","Comparison with traditional methods"],nextSteps:"Begin evaluation and data analysis phase"}}]},{id:3,name:"RESEARCH & WRITING",activities:[{id:3.1,name:"Background reading/literature review",weeks:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],days:[1,2,3,4,5,6,0,1,2,3,4,5,6,0],owner:"ME",files:[{name:"literature-review-sources.pdf",type:"pdf",size:1048576,uploadDate:"2024-06-05",description:"Compiled literature review sources and summaries",tags:["literature","sources","research"],url:"#"},{name:"csv-csa-comparison.pdf",type:"pdf",size:3145728,uploadDate:"2024-06-10",description:"Detailed comparison between CSV and CSA approaches",tags:["csv","csa","comparison"],url:"#"},{name:"ai-validation-research.pdf",type:"pdf",size:2097152,uploadDate:"2024-06-15",description:"Research on AI applications in validation processes",tags:["ai","validation","research"],url:"#"}],color:"bg-green-300",isGateway:!1},{id:3.2,name:"Write Chapter 1: Introduction",weeks:[1,2],days:[0,1,2,3,4,5,6,0],owner:"ME",files:[],color:"bg-pink-400",isGateway:!1},{id:3.3,name:"Write Chapter 2: Literature Review",weeks:[2,3,4],days:[1,2,3,4,5,6,0,1,2,3,4,5,6,0],owner:"ME",files:[],color:"bg-pink-400",isGateway:!1},{id:3.4,name:"Write Chapter 3: Methodology",weeks:[4,5],days:[1,2,3,4,5,6,0,1,2,3],owner:"ME",files:[],color:"bg-pink-400",isGateway:!1},{id:3.5,name:"Conduct surveys (LinkedIn/email)",weeks:[5,6,7,8],days:[4,5,6,0,1,2,3,4,5,6,0,1,2,3,4,5,6,0,1,2,3],owner:"ME",files:[],color:"bg-green-400",isGateway:!0,gatewayInfo:{name:"Survey Data Collection Complete",deliverables:["Expert feedback on CSV to CSA transition","Industry professional perspectives","Market validation of AI approach","Data for quantitative analysis"],nextSteps:"Analyze data and incorporate findings into thesis"}},{id:3.6,name:"Write Chapter 4: Findings & Analysis",weeks:[8,9,10],days:[4,5,6,0,1,2,3,4,5,6,0,1,2,3,4],owner:"ME",files:[],color:"bg-pink-400",isGateway:!1}]},{id:4,name:"EVALUATION & FINALIZATION",activities:[{id:4.1,name:"Mid-project supervisor review",weeks:[6],days:[3,4,5],owner:"SV",files:[],color:"bg-red-400",isGateway:!0,gatewayInfo:{name:"Mid-Project Supervisor Review",deliverables:["Progress report","Initial findings","Prototype development status","Timeline adherence assessment"],nextSteps:"Address feedback and continue with implementation"}},{id:4.2,name:"SME evaluation of reports",weeks:[10,11],days:[1,2,3,4,5,6,0],owner:"SME",files:[],color:"bg-purple-300",isGateway:!0,gatewayInfo:{name:"Subject Matter Expert Evaluation",deliverables:["Expert validation of AI approach","Industry relevance assessment","Technical accuracy confirmation","Implementation recommendations"],nextSteps:"Incorporate expert feedback into final chapters"}},{id:4.3,name:"Write Chapter 5: Conclusions",weeks:[11,12],days:[1,2,3,4,5,6,0],owner:"ME",files:[],color:"bg-pink-400",isGateway:!1},{id:4.4,name:"Compile references & appendices",weeks:[12],days:[1,2,3],owner:"ME",files:[],color:"bg-blue-300",isGateway:!1},{id:4.5,name:"Write abstract",weeks:[12],days:[4,5],owner:"ME",files:[],color:"bg-blue-300",isGateway:!1},{id:4.6,name:"Final review and submission",weeks:[12,13],days:[6,0,1],owner:"ME",files:[],color:"bg-blue-300",isGateway:!0,gatewayInfo:{name:"Thesis Submission Complete",deliverables:["Complete thesis document","Functional AI prototype","All appendices and references","Executive summary"],nextSteps:"Prepare for viva and demonstration"}},{id:4.7,name:"Viva preparation",weeks:[13],days:[0,1],owner:"ME",color:"bg-blue-300",isGateway:!1}]},{id:5,name:"PRIMARY DATA COLLECTION",activities:[{id:5.1,name:"Create data collection plan for the prototype",weeks:[9],days:[1,2,3],owner:"ME",color:"bg-orange-400",isGateway:!1},{id:5.2,name:"Create data collection plan for interviews",weeks:[9],days:[4,5,6],owner:"ME",color:"bg-orange-400",isGateway:!1},{id:5.3,name:"Create questions for interviews",weeks:[9,10],days:[0,1,2],owner:"ME",color:"bg-orange-400",isGateway:!1},{id:5.4,name:"Collect data from the prototype",weeks:[10,11],days:[3,4,5,6,0,1,2],owner:"ME",color:"bg-orange-500",isGateway:!1},{id:5.5,name:"Collect data from the interviews",weeks:[11],days:[3,4,5,6],owner:"ME",color:"bg-orange-500",isGateway:!1},{id:5.6,name:"Analyze primary data",weeks:[11,12],days:[0,1,2,3,4],owner:"ME",color:"bg-orange-600",isGateway:!0,gatewayInfo:{name:"Primary Data Analysis Complete",deliverables:["Prototype performance data","Interview findings","Data analysis results","Key insights for thesis"],nextSteps:"Incorporate findings into thesis conclusions"}}]}]),ge=(0,a.useCallback)((()=>{L.current&&clearTimeout(L.current),z(pe)}),[z,pe]),fe=(0,a.useCallback)((()=>{try{const e=localStorage.getItem("gantt-tasks-backup");if(e){const s=P(e);ue(s),S("saved"),alert("Unsaved changes have been recovered from backup.")}}catch(e){alert("Failed to recover backup data.")}}),[P]);(0,a.useEffect)((()=>{const e=localStorage.getItem("gantt-tasks");if(e)try{const s=P(e);ue(s),S("saved");const t=localStorage.getItem("gantt-save-timestamp");t&&M(new Date(parseInt(t)))}catch(s){D("Error loading saved tasks: "+s.message);localStorage.getItem("gantt-tasks-backup")&&window.confirm("Failed to load main data. Would you like to recover from backup?")&&fe()}}),[P,fe]),(0,a.useEffect)((()=>{pe.length>0&&O(pe)}),[pe,O]);(0,a.useEffect)((()=>{const e=localStorage.getItem("thesisGanttCompletedDays");e&&x(JSON.parse(e));localStorage.getItem("thesisGanttVisited")||(F(!0),localStorage.setItem("thesisGanttVisited","true"))}),[]),(0,a.useEffect)((()=>{localStorage.setItem("thesisGanttCompletedDays",JSON.stringify(m))}),[m]);const ve=(e,s,a)=>{if(13===e&&s>1)return(0,r.jsx)("td",{className:"bg-white border border-gray-200 w-6 h-6"},`${e}-${s}-${a.id}`);const i=((e,s,t)=>!!e.weeks.includes(s)&&(s===e.weeks[0]?t>=e.days[0]:s!==e.weeks[e.weeks.length-1]||t<=e.days[e.days.length-1]))(a,e,s),n=e===a.weeks[0]&&s===a.days[0],l=e===a.weeks[a.weeks.length-1]&&s===a.days[a.days.length-1],o=a.isGateway&&l,d=`${a.id}-${e}-${s}`,h=m[d],p=_e(a),u=He(a),g=N===a.id;let f="bg-white";i&&(f=h?"bg-gray-400":o?"bg-amber-500":a.color);return(0,r.jsxs)("td",{className:`border border-gray-200 w-6 h-6 relative\n          ${f} \n          ${n?"rounded-l":""} \n          ${l?"rounded-r":""}\n          ${i?"cursor-pointer hover:opacity-80":""}\n          ${g?"ring-2 ring-blue-400 ring-opacity-75":""}`,onMouseEnter:e=>{if(o){const s=e.currentTarget.getBoundingClientRect(),r=window.pageXOffset+s.left+s.width/2,i=window.pageYOffset+s.bottom;c({x:r,y:i}),t(a.gatewayInfo)}else i&&p&&Re(e,a)},onMouseLeave:()=>{o?t(null):i&&p&&$e()},onClick:()=>{i&&((e,s,t)=>{const a=`${e}-${s}-${t}`;x((e=>{const s={...e};return s[a]?delete s[a]:s[a]=!0,s}))})(a.id,e,s)},onDragEnter:e=>i&&Ve(e,a.id),onDragOver:e=>i&&We(e),onDragLeave:e=>i&&Ue(e),onDrop:e=>i&&Je(e,a.id),children:[h&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:(0,r.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),i&&p&&n&&(0,r.jsx)("div",{className:"absolute -top-1 -right-1 z-20",children:(0,r.jsx)("div",{className:"bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center text-center leading-none font-bold",children:u>9?"9+":u})}),i&&p&&!h&&(0,r.jsx)("div",{className:"absolute bottom-0 left-0 z-10",children:(0,r.jsx)("svg",{className:"w-2 h-2 text-white opacity-80",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M4 4v12h12V8l-4-4H4zm8 0v3h3l-3-3z"})})})]},`${e}-${s}-${a.id}`)},be=(e,s,t)=>{V({type:e,id:s,originalName:t}),U(t),H({show:!1,message:"",type:""})},ye=()=>{V(null),U(""),H({show:!1,message:"",type:""})},je=()=>{const e=(e=>{const s=e.trim();return s?s.length>100?{isValid:!1,message:"Name must be 100 characters or less"}:{isValid:!0,message:""}:{isValid:!1,message:"Name cannot be empty"}})(W);if(!e.isValid)return void H({show:!0,message:e.message,type:"error"});const s=W.trim();s!==$.originalName?(ue((e=>e.map((e=>"task"===$.type&&e.id===$.id?{...e,name:s}:"activity"===$.type?{...e,activities:e.activities.map((e=>e.id===$.id?{...e,name:s}:e))}:e)))),H({show:!0,message:"Name updated successfully!",type:"success"}),setTimeout((()=>{ye()}),1500)):ye()},we=e=>{"Enter"===e.key?(e.preventDefault(),je()):"Escape"===e.key&&(e.preventDefault(),ye())};(0,a.useEffect)((()=>{$&&me.current&&(me.current.focus(),me.current.select())}),[$]);const Ne=e=>{const s=(()=>{const e=pe.map((e=>e.id));let s=Math.max(...e,0)+1;for(;e.includes(s);)s++;return s})(),t={id:s,name:e.name||`New Task ${s}`,activities:[]};return ue((e=>{const s=[...e,t];return Se(`Task "${t.name}" added successfully!`,"success"),s})),s},ke=e=>{const{parentTaskId:s,name:t,weeks:a,days:r,owner:i,color:n,isGateway:l}=e,o=(e=>{const s=pe.find((s=>s.id===e));if(!s)return`${e}.1`;const t=s.activities.map((e=>parseFloat(e.id.toString().split(".")[1]||"0"))),a=Math.max(...t,0)+1;return parseFloat(`${e}.${a}`)})(s),c={id:o,name:t||`New Activity ${o}`,weeks:a||[0],days:r||[1,2,3],owner:i||"ME",color:n||"bg-blue-400",isGateway:l||!1};return ue((e=>{const t=e.map((e=>e.id===s?{...e,activities:[...e.activities,c]}:e));return Se(`Activity "${c.name}" added successfully!`,"success"),t})),o},Ce=()=>{if(Z.name.trim()){if("task"===Y)Ne(Z);else{if("activity"!==Y||!Z.parentTaskId)return void Se("Please select a parent task for the new activity.","error");ke(Z)}X({name:"",parentTaskId:null,weeks:[],days:[],owner:"ME",color:"bg-blue-400",isGateway:!1}),q(!1)}else Se("Please enter a name for the new row.","error")},Se=(e,s)=>{H({show:!0,message:e,type:s}),setTimeout((()=>{H({show:!1,message:"",type:""})}),3e3)},Te=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const t=[];return pe.forEach((a=>{a.activities.forEach((r=>{if(!s||r.id!==s||a.id!==e)if(s){var i;const n=null===(i=pe.find((s=>s.id===e)))||void 0===i?void 0:i.activities.find((e=>e.id===s));n&&Me(n,r)&&t.push({task:a.name,activity:r.name,type:"temporal"})}else a.id!==e&&Ee(e,a)&&t.push({task:a.name,activity:r.name,type:"task"})}))})),t},Me=(e,s)=>{const t=Math.max(...e.weeks);return Math.min(...s.weeks)>t},Ee=(e,s)=>{const t=pe.find((s=>s.id===e));if(!t)return!1;const a=Math.max(...t.activities.flatMap((e=>e.weeks)));return Math.min(...s.activities.flatMap((e=>e.weeks)))>a},De=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const t=[];if(s){const a=pe.find((s=>s.id===e)),r=a.activities.filter((e=>e.id!==s));if(r.length>0){const e=r.flatMap((e=>e.weeks)).sort(((e,s)=>e-s));for(let s=1;s<e.length;s++)if(e[s]-e[s-1]>1){t.push(`Removing this activity may create timeline gaps in ${a.name}`);break}}}else{const s=pe.filter((s=>s.id!==e)).flatMap((e=>e.activities.flatMap((e=>e.weeks)))).sort(((e,s)=>e-s));for(let e=1;e<s.length;e++)if(s[e]-s[e-1]>2){t.push("Removing this task may create significant timeline gaps");break}}return t},Ae=e=>{const s=pe.find((s=>s.id===e));if(!s)return;const t={type:"task",item:s,timestamp:Date.now(),originalTasks:[...pe]};ue((s=>s.filter((s=>s.id!==e)))),oe((e=>[t,...e.slice(0,4)])),Se("Task deleted successfully!","success"),Ie(),re(!1)},Le=(e,s)=>{const t=pe.find((s=>s.id===e)),a=null===t||void 0===t?void 0:t.activities.find((e=>e.id===s));if(!t||!a)return;const r={type:"activity",item:a,parentTaskId:e,timestamp:Date.now(),originalTasks:[...pe]};ue((t=>{const a=t.map((t=>t.id===e?{...t,activities:t.activities.filter((e=>e.id!==s))}:t));return a})),oe((e=>[r,...e.slice(0,4)])),Se("Activity deleted successfully!","success"),Ie(),re(!1)},Ie=()=>{de(!0),setTimeout((()=>{de(!1)}),1e4)},Pe=e=>{(e=>{const s=pe.find((s=>s.id===e));if(!s)return;const t=Te(e),a=De(e);ne({type:"task",item:s,dependents:t,timelineIssues:a,onConfirm:()=>Ae(e)}),re(!0)})(e)},ze=(e,s)=>{((e,s)=>{const t=pe.find((s=>s.id===e)),a=null===t||void 0===t?void 0:t.activities.find((e=>e.id===s));if(!t||!a)return;const r=Te(e,s),i=De(e,s);ne({type:"activity",item:a,parentTask:t,dependents:r,timelineIssues:i,onConfirm:()=>Le(e,s)}),re(!0)})(e,s)};(0,a.useEffect)((()=>{_&&xe.current&&xe.current.focus()}),[_]);const Oe=()=>{if(!ae||!ie)return null;const{type:e,item:s,parentTask:t,dependents:a,timelineIssues:i,onConfirm:n}=ie,l=a.length>0||i.length>0;return(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-red-600",children:["Confirm ","task"===e?"Task":"Activity"," Deletion"]}),(0,r.jsx)("button",{onClick:()=>re(!1),className:"bg-gray-200 rounded-full p-2 hover:bg-gray-300",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded",children:[(0,r.jsxs)("p",{className:"font-medium text-gray-800",children:["Are you sure you want to delete ","task"===e?"task":"activity",":",(0,r.jsxs)("span",{className:"font-bold text-red-700",children:[' "',s.name,'"']}),"task"===e&&" and all its activities","?"]}),t&&(0,r.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["From task: ",(0,r.jsx)("span",{className:"font-medium",children:t.name})]})]}),a.length>0&&(0,r.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded",children:[(0,r.jsx)("h4",{className:"font-semibold text-red-800 mb-2",children:"\u26a0\ufe0f Dependency Warning"}),(0,r.jsx)("p",{className:"text-sm text-red-700 mb-2",children:"The following activities may be affected by this deletion:"}),(0,r.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:a.map(((e,s)=>(0,r.jsxs)("li",{className:"text-sm text-red-600",children:[(0,r.jsx)("span",{className:"font-medium",children:e.task})," \u2192 ",e.activity,(0,r.jsxs)("span",{className:"text-xs ml-1",children:["(",e.type," dependency)"]})]},s)))})]}),i.length>0&&(0,r.jsxs)("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded",children:[(0,r.jsx)("h4",{className:"font-semibold text-orange-800 mb-2",children:"\ud83d\udcc5 Timeline Issues"}),(0,r.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:i.map(((e,s)=>(0,r.jsx)("li",{className:"text-sm text-orange-700",children:e},s)))})]}),!l&&(0,r.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded",children:(0,r.jsx)("p",{className:"text-sm text-green-700",children:"\u2705 No dependencies or timeline issues detected. Safe to delete."})}),(0,r.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded",children:(0,r.jsxs)("p",{className:"text-sm text-blue-700",children:["\ud83d\udca1 ",(0,r.jsx)("strong",{children:"Tip:"})," You can undo this deletion within 10 seconds after confirming."]})})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,r.jsx)("button",{onClick:()=>re(!1),className:"px-4 py-2 text-gray-600 bg-gray-200 rounded hover:bg-gray-300",children:"Cancel"}),(0,r.jsx)("button",{onClick:n,className:"px-4 py-2 text-white rounded "+(l?"bg-red-600 hover:bg-red-700":"bg-orange-600 hover:bg-orange-700"),children:l?"Delete Anyway":"Confirm Delete"})]})]})})},Ge=()=>_?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md mx-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-blue-800",children:"Add New Row"}),(0,r.jsx)("button",{onClick:()=>q(!1),className:"bg-gray-200 rounded-full p-2 hover:bg-gray-300",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",value:"task",checked:"task"===Y,onChange:e=>K(e.target.value),className:"mr-2"}),"Task"]}),(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",value:"activity",checked:"activity"===Y,onChange:e=>K(e.target.value),className:"mr-2"}),"Activity"]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),(0,r.jsx)("input",{ref:xe,type:"text",value:Z.name,onChange:e=>X({...Z,name:e.target.value}),placeholder:"Enter name for new row",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),"activity"===Y&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parent Task"}),(0,r.jsxs)("select",{value:Z.parentTaskId||"",onChange:e=>X({...Z,parentTaskId:parseInt(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Select a parent task"}),pe.map((e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner"}),(0,r.jsxs)("select",{value:Z.owner,onChange:e=>X({...Z,owner:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"ME",children:"ME (Daniil Vladimirov)"}),(0,r.jsx)("option",{value:"SV",children:"Supervisor"}),(0,r.jsx)("option",{value:"SME",children:"Subject Matter Expert"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,r.jsxs)("select",{value:Z.color,onChange:e=>X({...Z,color:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"bg-blue-400",children:"Planning (Blue)"}),(0,r.jsx)("option",{value:"bg-purple-400",children:"Development (Purple)"}),(0,r.jsx)("option",{value:"bg-indigo-400",children:"Testing (Indigo)"}),(0,r.jsx)("option",{value:"bg-green-300",children:"Ongoing Research (Light Green)"}),(0,r.jsx)("option",{value:"bg-green-400",children:"Research Activities (Green)"}),(0,r.jsx)("option",{value:"bg-pink-400",children:"Writing (Pink)"}),(0,r.jsx)("option",{value:"bg-red-400",children:"Review (Red)"}),(0,r.jsx)("option",{value:"bg-blue-300",children:"Finalization (Light Blue)"}),(0,r.jsx)("option",{value:"bg-purple-300",children:"Other (Light Purple)"})]})]}),"activity"===Y&&(0,r.jsx)("div",{children:(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:Z.isGateway,onChange:e=>X({...Z,isGateway:e.target.checked}),className:"mr-2"}),"Gateway Milestone"]})})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,r.jsx)("button",{onClick:()=>q(!1),className:"px-4 py-2 text-gray-600 bg-gray-200 rounded hover:bg-gray-300",children:"Cancel"}),(0,r.jsx)("button",{onClick:Ce,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Add Row"})]})]})}):null,Fe=()=>(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-blue-800",children:"Welcome to Thesis GANTT Chart"}),(0,r.jsx)("button",{onClick:()=>F(!1),className:"bg-gray-200 rounded-full p-2 hover:bg-gray-300",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"mb-4 border-b pb-3",children:[(0,r.jsxs)("p",{className:"font-medium",children:["Created by: ",(0,r.jsx)("span",{className:"text-blue-700",children:"Daniil Vladimirov"})]}),(0,r.jsxs)("p",{className:"font-medium",children:["Student Number: ",(0,r.jsx)("span",{className:"text-blue-700",children:"3154227"})]})]}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"How to Use This GANTT Chart:"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-blue-600",children:"1. Tracking Task Progress"}),(0,r.jsx)("p",{children:"Click on any colored cell to mark it as completed. The cell will turn gray with a checkmark. Click again to mark it as incomplete."}),(0,r.jsxs)("div",{className:"flex mt-1 items-center",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-purple-400 mr-2"}),(0,r.jsx)("span",{children:"\u2192 Click \u2192"}),(0,r.jsx)("div",{className:"w-6 h-6 bg-gray-400 flex items-center justify-center ml-2",children:(0,r.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-blue-600",children:"2. Progress Tracking"}),(0,r.jsx)("p",{children:"Each task has a progress bar showing completion percentage. As you mark days complete, the progress bar updates automatically."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-blue-600",children:"3. Gateway Milestones"}),(0,r.jsx)("p",{children:"Amber cells represent gateway milestones. Hover over them to see deliverables and next steps."}),(0,r.jsx)("div",{className:"bg-amber-500 w-12 h-6 rounded mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-blue-600",children:"4. Row Editing"}),(0,r.jsx)("p",{children:'Edit task and activity names by clicking the "Edit" button that appears on hover, or double-click on activity names. Press Enter to save or Escape to cancel.'})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-blue-600",children:"5. Adding New Rows"}),(0,r.jsx)("p",{children:'Click the "Add Row" button to add new tasks or activities. You can specify the type, parent task (for activities), owner, color, and whether it\'s a gateway milestone.'})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-blue-600",children:"6. Drag and Drop"}),(0,r.jsx)("p",{children:"Drag task rows to reorder them. This helps organize your timeline and adjust priorities as your project evolves."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-blue-600",children:"7. Automatic Saving"}),(0,r.jsx)("p",{children:"Your progress and edits are automatically saved in your browser's local storage. It will persist even if you close the browser and return later."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-blue-600",children:"8. Thesis Timeline"}),(0,r.jsx)("p",{children:"This GANTT chart covers the 3-month thesis timeframe from June 1 to September 1, 2024. All tasks include a 10% buffer time as requested."})]})]}),(0,r.jsxs)("div",{className:"mt-6 bg-blue-50 p-4 rounded",children:[(0,r.jsx)("h4",{className:"font-semibold",children:"Research Focus"}),(0,r.jsx)("p",{children:'This chart is designed for tracking progress on the thesis topic: "Can AI agents facilitate the transition from computer system validation to computer software assurance?" as outlined in the assignment.'})]}),(0,r.jsx)("button",{onClick:()=>F(!1),className:"mt-6 bg-blue-600 text-white py-2 px-6 rounded hover:bg-blue-700 w-full font-medium",children:"Get Started"})]})}),Be=()=>{const e=[];return pe.forEach((s=>{s.activities.forEach((t=>{t.files&&t.files.length>0&&t.files.forEach((a=>{e.push({file:a,activityId:t.id,activityName:t.name,taskId:s.id,taskName:s.name})}))}))})),e},Re=(e,s)=>{if(s.files&&s.files.length>0){const t=e.currentTarget.getBoundingClientRect(),a=window.pageXOffset+t.left,r=window.pageYOffset+t.top;p({isVisible:!0,files:s.files,position:{x:a,y:r}})}},$e=()=>{p({isVisible:!1,files:[],position:{x:0,y:0}})},Ve=(e,s)=>{e.preventDefault(),k(s)},We=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},Ue=e=>{e.preventDefault(),k(null)},Je=(e,s)=>{var t,a,r,i;(e.preventDefault(),k(null),j&&j.sourceActivityId!==s)&&(r=j.sourceActivityId,i=(null===(t=pe.find((e=>e.activities.find((e=>e.id===j.sourceActivityId)))))||void 0===t||null===(a=t.activities.find((e=>e.id===j.sourceActivityId)))||void 0===a?void 0:a.files.findIndex((e=>e===j.file)))||0,ue((e=>{const s=e.map((e=>({...e,activities:e.activities.map((e=>{if(e.id===r){const s=[...e.files||[]];return s.splice(i,1),{...e,files:s}}return e}))})));return O(s),s})),((e,s)=>{ue((t=>{const a=t.map((t=>({...t,activities:t.activities.map((t=>t.id===e?{...t,files:[...t.files||[],s]}:t))})));return O(a),a}))})(s,j.file));w(null)},He=e=>e.files?e.files.length:0,_e=e=>e.files&&e.files.length>0;return(0,r.jsxs)("div",{className:"p-2 sm:p-4 lg:p-6 bg-white rounded-lg shadow-lg overflow-x-auto relative",children:[G&&(0,r.jsx)(Fe,{}),(0,r.jsx)(Ge,{}),(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-4 gap-3 lg:gap-0",children:[(0,r.jsxs)("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold leading-tight",children:[(0,r.jsx)("span",{className:"hidden sm:inline",children:"AI-Enabled CSV to CSA Transition: "}),(0,r.jsx)("span",{className:"sm:hidden",children:"CSV to CSA: "}),"Thesis GANTT Chart"]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row w-full lg:w-auto space-y-2 sm:space-y-0 sm:space-x-2 items-stretch sm:items-center text-sm",children:[(0,r.jsxs)("button",{onClick:()=>{y(!b)},className:"bg-purple-100 hover:bg-purple-200 text-purple-800 px-3 py-2 sm:py-1 rounded flex items-center justify-center sm:justify-start touch-manipulation min-h-[44px] sm:min-h-[auto]",title:"Search all files across activities",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,r.jsxs)("span",{children:["Files (",Be().length,")"]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-1 sm:space-y-0 sm:space-x-2 text-sm w-full sm:w-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center sm:justify-start px-3 py-2 sm:px-2 sm:py-1 rounded touch-manipulation min-h-[44px] sm:min-h-[auto] "+("saved"===C?"bg-green-100 text-green-800":"saving"===C?"bg-yellow-100 text-yellow-800":"error"===C?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"),children:["saved"===C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Saved"]}),"saving"===C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Saving..."]}),"error"===C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Error"]}),"unsaved"===C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Unsaved"]})]}),(0,r.jsxs)("button",{onClick:ge,disabled:"saving"===C,className:"bg-gray-100 hover:bg-gray-200 text-gray-800 px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs flex items-center justify-center sm:justify-start disabled:opacity-50 touch-manipulation min-h-[44px] sm:min-h-[auto]",title:"Save manually",children:[(0,r.jsx)("svg",{className:"w-4 h-4 sm:w-3 sm:h-3 mr-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"})}),(0,r.jsx)("span",{children:"Save"})]}),T&&(0,r.jsx)("span",{className:"hidden sm:block text-xs text-gray-500 text-center sm:text-left",title:`Last saved: ${T.toLocaleString()}`,children:T.toLocaleTimeString()})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 lg:flex gap-2 w-full sm:w-auto",children:[(0,r.jsxs)("button",{onClick:()=>R(!0),className:"bg-indigo-100 hover:bg-indigo-200 text-indigo-800 px-3 py-2 sm:py-1 rounded flex items-center justify-center sm:justify-start touch-manipulation min-h-[44px] sm:min-h-[auto]",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,r.jsx)("span",{children:"Export"})]}),(0,r.jsxs)("button",{onClick:()=>q(!0),className:"bg-green-100 hover:bg-green-200 text-green-800 px-3 py-2 sm:py-1 rounded flex items-center justify-center sm:justify-start touch-manipulation min-h-[44px] sm:min-h-[auto]",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),(0,r.jsx)("span",{children:"Add Row"})]}),(0,r.jsxs)("button",{onClick:()=>F(!0),className:"bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-2 sm:py-1 rounded flex items-center justify-center sm:justify-start touch-manipulation min-h-[44px] sm:min-h-[auto]",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{children:"Help"})]})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-4 gap-2 lg:gap-0",children:[(0,r.jsxs)("h2",{className:"text-base sm:text-lg font-semibold",children:[(0,r.jsx)("span",{className:"hidden sm:inline",children:"Project Timeline: June 1 - September 1, 2024"}),(0,r.jsx)("span",{className:"sm:hidden",children:"Timeline: Jun-Sep 2024"})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Daniil Vladimirov"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:" | Student #3154227"}),(0,r.jsx)("div",{className:"sm:hidden text-xs text-gray-500",children:"#3154227"})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-base sm:text-md font-semibold mb-3",children:"Research Objectives:"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[(0,r.jsx)("div",{className:"bg-gray-100 p-3 rounded touch-manipulation",children:"1. Analyze existing CSV practices"}),(0,r.jsx)("div",{className:"bg-gray-100 p-3 rounded touch-manipulation",children:"2. Investigate CSA\u2019s risk-based approach"}),(0,r.jsx)("div",{className:"bg-gray-100 p-3 rounded touch-manipulation",children:"3. Conduct gap analysis for CSV to CSA transition"}),(0,r.jsx)("div",{className:"bg-gray-100 p-3 rounded touch-manipulation",children:"4. Examine AI agent capabilities and limitations"}),(0,r.jsx)("div",{className:"bg-gray-100 p-3 rounded touch-manipulation",children:"5. Suggest AI applications to bridge CSV-CSA gap"}),(0,r.jsx)("div",{className:"bg-gray-100 p-3 rounded touch-manipulation",children:"6. Develop and test AI prototype for validation"})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-base sm:text-md font-semibold mb-3",children:"Legend:"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2 sm:gap-3 text-xs sm:text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center p-2 sm:p-0 bg-gray-50 sm:bg-transparent rounded sm:rounded-none",children:[(0,r.jsx)("div",{className:"w-4 h-4 mr-2 bg-blue-400 flex-shrink-0"}),(0,r.jsx)("span",{children:"Planning"})]}),(0,r.jsxs)("div",{className:"flex items-center p-2 sm:p-0 bg-gray-50 sm:bg-transparent rounded sm:rounded-none",children:[(0,r.jsx)("div",{className:"w-4 h-4 mr-2 bg-purple-400 flex-shrink-0"}),(0,r.jsx)("span",{children:"Development"})]}),(0,r.jsxs)("div",{className:"flex items-center p-2 sm:p-0 bg-gray-50 sm:bg-transparent rounded sm:rounded-none",children:[(0,r.jsx)("div",{className:"w-4 h-4 mr-2 bg-indigo-400 flex-shrink-0"}),(0,r.jsx)("span",{children:"Testing"})]}),(0,r.jsxs)("div",{className:"flex items-center p-2 sm:p-0 bg-gray-50 sm:bg-transparent rounded sm:rounded-none",children:[(0,r.jsx)("div",{className:"w-4 h-4 mr-2 bg-green-300 flex-shrink-0"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Ongoing Research"}),(0,r.jsx)("span",{className:"sm:hidden",children:"Ongoing"})]}),(0,r.jsxs)("div",{className:"flex items-center p-2 sm:p-0 bg-gray-50 sm:bg-transparent rounded sm:rounded-none",children:[(0,r.jsx)("div",{className:"w-4 h-4 mr-2 bg-green-400 flex-shrink-0"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Research Activities"}),(0,r.jsx)("span",{className:"sm:hidden",children:"Research"})]}),(0,r.jsxs)("div",{className:"flex items-center p-2 sm:p-0 bg-gray-50 sm:bg-transparent rounded sm:rounded-none",children:[(0,r.jsx)("div",{className:"w-4 h-4 mr-2 bg-pink-400 flex-shrink-0"}),(0,r.jsx)("span",{children:"Writing"})]}),(0,r.jsxs)("div",{className:"flex items-center p-2 sm:p-0 bg-gray-50 sm:bg-transparent rounded sm:rounded-none",children:[(0,r.jsx)("div",{className:"w-4 h-4 mr-2 bg-red-400 flex-shrink-0"}),(0,r.jsx)("span",{children:"Review"})]}),(0,r.jsxs)("div",{className:"flex items-center p-2 sm:p-0 bg-gray-50 sm:bg-transparent rounded sm:rounded-none",children:[(0,r.jsx)("div",{className:"w-4 h-4 mr-2 bg-blue-300 flex-shrink-0"}),(0,r.jsx)("span",{children:"Finalization"})]}),(0,r.jsxs)("div",{className:"flex items-center p-2 sm:p-0 bg-gray-50 sm:bg-transparent rounded sm:rounded-none",children:[(0,r.jsx)("div",{className:"w-4 h-4 mr-2 bg-amber-500 flex-shrink-0"}),(0,r.jsx)("span",{children:"Gateway"})]}),(0,r.jsxs)("div",{className:"flex items-center p-2 sm:p-0 bg-gray-50 sm:bg-transparent rounded sm:rounded-none",children:[(0,r.jsx)("div",{className:"w-4 h-4 mr-2 bg-gray-400 flex-shrink-0"}),(0,r.jsx)("span",{children:"Completed"})]})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-3 gap-2 sm:gap-0",children:[(0,r.jsx)("h3",{className:"text-base sm:text-md font-semibold",children:"Resources:"}),(0,r.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to reset all progress? This cannot be undone.")&&(localStorage.removeItem("thesisGanttCompletedDays"),localStorage.removeItem("thesisGanttVisited"),alert("Progress has been reset. The page will now reload."),window.location.reload())},className:"text-xs sm:text-xs text-red-600 hover:text-red-800 border border-red-300 rounded px-3 py-2 sm:px-2 sm:py-1 hover:bg-red-50 touch-manipulation min-h-[44px] sm:min-h-[auto] w-full sm:w-auto flex items-center justify-center",children:"Reset Progress"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:flex lg:flex-wrap gap-2 sm:gap-3 text-sm",children:Object.entries({ME:"Daniil Vladimirov (Thesis Author)",SV:"Supervisor",SME:"Subject Matter Expert"}).map((e=>{let[s,t]=e;return(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-6 h-6 rounded-full bg-red-100 flex items-center justify-center mr-1",children:s}),(0,r.jsx)("span",{children:t})]},s)}))})]}),(0,r.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded flex items-center justify-between",children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Click on colored cells to mark progress. Hover over task/activity names to edit them. Use \u201cAdd Row\u201d to create new tasks/activities. Drag tasks to reorder them. Your changes are automatically saved."}),(0,r.jsx)("button",{onClick:()=>F(!0),className:"text-blue-700 hover:text-blue-900 text-sm font-medium",children:"View full instructions"})]}),s&&(0,r.jsxs)("div",{className:"absolute bg-white border border-gray-300 shadow-lg rounded-md p-3 z-50 max-w-sm",style:{left:`${o.x}px`,top:`${o.y}px`,transform:"translate(-50%, 10px)",pointerEvents:"none"},children:[(0,r.jsx)("h4",{className:"font-bold text-lg text-amber-600",children:s.name}),(0,r.jsx)("h5",{className:"font-semibold mt-2",children:"Deliverables:"}),(0,r.jsx)("ul",{className:"list-disc pl-5 mt-1",children:s.deliverables.map(((e,s)=>(0,r.jsx)("li",{children:e},s)))}),(0,r.jsx)("h5",{className:"font-semibold mt-2",children:"Next Steps:"}),(0,r.jsx)("p",{children:s.nextSteps})]}),E&&(0,r.jsx)("div",{className:"fixed top-16 right-4 p-3 bg-red-100 border border-red-300 text-red-800 rounded-md shadow-lg z-50 max-w-sm",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Auto-save Error"}),(0,r.jsx)("p",{className:"text-sm mt-1",children:E})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 ml-4",children:[(0,r.jsx)("button",{onClick:ge,className:"bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded text-xs",children:"Retry"}),(0,r.jsx)("button",{onClick:fe,className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-xs",children:"Recover"}),(0,r.jsx)("button",{onClick:()=>D(null),className:"bg-gray-500 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs",children:"Dismiss"})]})]})}),J.show&&(0,r.jsx)("div",{className:"fixed top-4 right-4 p-3 rounded-md shadow-lg z-50 max-w-sm "+("success"===J.type?"bg-green-100 border border-green-300 text-green-800":"bg-red-100 border border-red-300 text-red-800"),children:(0,r.jsxs)("div",{className:"flex items-center",children:["success"===J.type?(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}):(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{className:"font-medium",children:J.message})]})}),ce&&le.length>0&&(0,r.jsx)("div",{className:"fixed top-4 left-4 p-4 bg-blue-100 border border-blue-300 text-blue-800 rounded-md shadow-lg z-50 max-w-sm",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),(0,r.jsx)("span",{className:"font-medium",children:"Item Deleted"})]}),(0,r.jsxs)("p",{className:"text-sm mt-1",children:["\u201c",null===(e=le[0])||void 0===e?void 0:e.item.name,"\u201d was deleted"]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 ml-4",children:[(0,r.jsx)("button",{onClick:()=>{if(0===le.length)return;const e=le[0];ue(e.originalTasks),oe((e=>e.slice(1))),Se(`${"task"===e.type?"Task":"Activity"} "${e.item.name}" restored successfully!`,"success"),de(!1)},className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm font-medium",children:"Undo"}),(0,r.jsx)("button",{onClick:()=>de(!1),className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded text-xs",children:"Dismiss"})]})]})}),(0,r.jsx)("div",{className:"overflow-x-auto touch-manipulation",style:{WebkitOverflowScrolling:"touch"},children:(0,r.jsxs)("table",{className:"border-collapse w-full min-w-max",children:[(0,r.jsxs)("thead",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsxs)("th",{className:"border border-gray-300 bg-gray-100 p-2 sm:p-2 w-48 sm:w-48 text-left text-xs sm:text-sm",children:[(0,r.jsx)("span",{className:"hidden sm:inline",children:"Tasks & Activities"}),(0,r.jsx)("span",{className:"sm:hidden",children:"Tasks"})]}),he.map((e=>(0,r.jsxs)("th",{colSpan:7,className:"border border-gray-300 bg-gray-800 text-white p-1 sm:p-1 text-center text-xs",children:[(0,r.jsx)("span",{className:"hidden sm:inline",children:e.name}),(0,r.jsx)("span",{className:"sm:hidden",children:e.name.split(" ")[0]})]},e.name))),(0,r.jsxs)("th",{className:"border border-gray-300 bg-gray-100 p-1 sm:p-2 w-12 sm:w-16 text-center text-xs sm:text-sm",children:[(0,r.jsx)("span",{className:"hidden sm:inline",children:"Owner"}),(0,r.jsx)("span",{className:"sm:hidden",children:"Own"})]}),(0,r.jsxs)("th",{className:"border border-gray-300 bg-gray-100 p-1 sm:p-2 w-16 sm:w-24 text-center text-xs sm:text-sm",children:[(0,r.jsx)("span",{className:"hidden sm:inline",children:"Progress"}),(0,r.jsx)("span",{className:"sm:hidden",children:"%"})]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"border border-gray-300 bg-gray-100"}),he.map(((e,s)=>e.days.map((e=>(0,r.jsxs)("th",{className:"border border-gray-300 bg-gray-200 w-6 sm:w-6 p-1 text-center text-xs min-h-[28px] sm:min-h-[auto]",children:[(0,r.jsx)("span",{className:"hidden sm:inline",children:e}),(0,r.jsx)("span",{className:"sm:hidden",children:e.charAt(0)})]},`${s}-${e}`))))),(0,r.jsx)("th",{className:"border border-gray-300 bg-gray-100"}),(0,r.jsx)("th",{className:"border border-gray-300 bg-gray-100"})]})]}),(0,r.jsx)("tbody",{children:pe.map((e=>(0,r.jsxs)(a.Fragment,{children:[(0,r.jsxs)("tr",{draggable:!0,onDragStart:s=>((e,s,t)=>{ee({...s,type:t}),e.dataTransfer.effectAllowed="move"})(s,e,"task"),onDragOver:s=>((e,s,t)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",te({...s,type:t})})(s,e,"task"),onDrop:s=>((e,s,t)=>{if(e.preventDefault(),Q&&s){if("task"===Q.type&&"task"===t){const e=pe.findIndex((e=>e.id===Q.id)),t=pe.findIndex((e=>e.id===s.id));if(e!==t){const s=[...pe],[a]=s.splice(e,1);s.splice(t,0,a),ue(s),Se("Task repositioned successfully!","success")}}ee(null),te(null)}})(s,e,"task"),className:`transition-all duration-300 ${"task"===(null===se||void 0===se?void 0:se.type)&&se.id===e.id?"border-blue-500 border-2 transform scale-105":""} ${"task"===(null===Q||void 0===Q?void 0:Q.type)&&Q.id===e.id?"opacity-50":""}`,children:[(0,r.jsx)("td",{className:"border border-gray-300 bg-gray-800 text-white p-1 sm:p-2 font-bold relative cursor-move touch-manipulation",children:(0,r.jsx)("div",{className:"flex items-center justify-between group min-h-[36px] sm:min-h-[auto]",children:"task"===(null===$||void 0===$?void 0:$.type)&&(null===$||void 0===$?void 0:$.id)===e.id?(0,r.jsxs)("div",{className:"flex-1 flex flex-col sm:flex-row items-stretch sm:items-center gap-1 sm:gap-2",children:[(0,r.jsx)("input",{ref:me,type:"text",value:W,onChange:e=>U(e.target.value),onKeyDown:we,className:"flex-1 bg-white text-gray-900 px-2 py-2 sm:py-1 rounded text-sm font-bold touch-manipulation",maxLength:100}),(0,r.jsxs)("div",{className:"flex gap-1",children:[(0,r.jsx)("button",{onClick:je,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 sm:px-2 sm:py-1 rounded text-xs touch-manipulation min-h-[36px] sm:min-h-[auto] flex items-center justify-center",title:"Save (Enter)",children:"\u2713"}),(0,r.jsx)("button",{onClick:ye,className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 sm:px-2 sm:py-1 rounded text-xs touch-manipulation min-h-[36px] sm:min-h-[auto] flex items-center justify-center",title:"Cancel (Escape)",children:"\u2715"})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"flex-1 text-xs sm:text-sm leading-tight",children:e.name}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-1 ml-2",children:[(0,r.jsxs)("button",{onClick:()=>be("task",e.id,e.name),className:"opacity-100 sm:opacity-0 group-hover:opacity-100 bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-xs transition-opacity touch-manipulation min-h-[32px] sm:min-h-[auto] flex items-center justify-center",title:"Edit task name",children:[(0,r.jsx)("span",{className:"hidden sm:inline",children:"Edit"}),(0,r.jsx)("span",{className:"sm:hidden",children:"\u270f\ufe0f"})]}),(0,r.jsxs)("button",{onClick:()=>Pe(e.id),className:"opacity-100 sm:opacity-0 group-hover:opacity-100 bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded text-xs transition-opacity touch-manipulation min-h-[32px] sm:min-h-[auto] flex items-center justify-center",title:"Delete task",children:[(0,r.jsx)("span",{className:"hidden sm:inline",children:"Delete"}),(0,r.jsx)("span",{className:"sm:hidden",children:"\ud83d\uddd1\ufe0f"})]})]})]})})}),he.map(((e,s)=>e.days.map(((e,t)=>(0,r.jsx)("td",{className:"border border-gray-300 bg-gray-700"},`${s}-${t}`))))),(0,r.jsx)("td",{className:"border border-gray-300 bg-gray-800 text-white"}),(0,r.jsx)("td",{className:"border border-gray-300 bg-gray-800 text-white"})]}),e.activities.map((s=>{const t=(e=>{let s=0,t=0;const a=[];for(let r=0;r<e.weeks.length;r++){const s=e.weeks[r];let t,i;t=0===r?e.days[0]:0,i=r===e.weeks.length-1?e.days[e.days.length-1]:6;for(let e=t;e<=i;e++)13===s&&e>1||a.push({weekIndex:s,dayIndex:e})}return s=a.length,a.forEach((s=>{let{weekIndex:a,dayIndex:r}=s;const i=`${e.id}-${a}-${r}`;m[i]&&t++})),s>0?t/s*100:0})(s);return(0,r.jsxs)("tr",{className:"transition-all duration-300 hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"border border-gray-300 p-1 sm:p-2 text-xs sm:text-sm relative touch-manipulation",children:(0,r.jsx)("div",{className:"flex items-center justify-between group min-h-[36px] sm:min-h-[auto]",children:"activity"===(null===$||void 0===$?void 0:$.type)&&(null===$||void 0===$?void 0:$.id)===s.id?(0,r.jsxs)("div",{className:"flex-1 flex flex-col sm:flex-row items-stretch sm:items-center gap-1 sm:gap-2",children:[(0,r.jsx)("input",{ref:me,type:"text",value:W,onChange:e=>U(e.target.value),onKeyDown:we,className:"flex-1 bg-white text-gray-900 px-2 py-2 sm:py-1 rounded text-sm border touch-manipulation",maxLength:100}),(0,r.jsxs)("div",{className:"flex gap-1",children:[(0,r.jsx)("button",{onClick:je,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 sm:px-2 sm:py-1 rounded text-xs touch-manipulation min-h-[36px] sm:min-h-[auto] flex items-center justify-center",title:"Save (Enter)",children:"\u2713"}),(0,r.jsx)("button",{onClick:ye,className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 sm:px-2 sm:py-1 rounded text-xs touch-manipulation min-h-[36px] sm:min-h-[auto] flex items-center justify-center",title:"Cancel (Escape)",children:"\u2715"})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"flex-1 cursor-pointer leading-tight",onDoubleClick:()=>be("activity",s.id,s.name),title:"Double-click to edit",children:s.name}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-1 ml-2",children:[(0,r.jsxs)("button",{onClick:()=>be("activity",s.id,s.name),className:"opacity-100 sm:opacity-0 group-hover:opacity-100 bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-xs transition-opacity touch-manipulation min-h-[32px] sm:min-h-[auto] flex items-center justify-center",title:"Edit activity name",children:[(0,r.jsx)("span",{className:"hidden sm:inline",children:"Edit"}),(0,r.jsx)("span",{className:"sm:hidden",children:"\u270f\ufe0f"})]}),(0,r.jsxs)("button",{onClick:()=>ze(e.id,s.id),className:"opacity-100 sm:opacity-0 group-hover:opacity-100 bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded text-xs transition-opacity touch-manipulation min-h-[32px] sm:min-h-[auto] flex items-center justify-center",title:"Delete activity",children:[(0,r.jsx)("span",{className:"hidden sm:inline",children:"Delete"}),(0,r.jsx)("span",{className:"sm:hidden",children:"\ud83d\uddd1\ufe0f"})]})]})]})})}),he.map(((e,t)=>e.days.map(((e,a)=>ve(t,a,s))))),(0,r.jsx)("td",{className:"border border-gray-300 p-1 text-center",children:(0,r.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-red-100 mx-auto flex items-center justify-center text-xs sm:text-sm touch-manipulation",children:s.owner})}),(0,r.jsxs)("td",{className:"border border-gray-300 p-1 sm:p-2",children:[(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 sm:h-4 touch-manipulation",children:(0,r.jsx)("div",{className:"h-3 sm:h-4 rounded-full "+(t>0?"bg-blue-600":"bg-gray-300"),style:{width:`${t>0?t:0}%`}})}),(0,r.jsxs)("div",{className:"text-center text-xs mt-1 font-semibold",children:[Math.round(t),"%"]})]})]},s.id)}))]},e.id)))})]})}),(0,r.jsxs)("div",{className:"mt-6 p-3 bg-blue-50 rounded border border-blue-200 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Key Notes:"}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Created by Daniil Vladimirov (3154227) for AI-Enabled CSV to CSA Transition Thesis"})]}),(0,r.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,r.jsx)("li",{children:"Each task includes a 10% time buffer as requested"}),(0,r.jsx)("li",{children:"Amber colored cells indicate gateways at the end of key tasks (hover to see details)"}),(0,r.jsx)("li",{children:"Background literature review runs throughout the project"}),(0,r.jsx)("li",{children:"The prototype development follows Agile/DevOps methodology with TDD"}),(0,r.jsx)("li",{children:"Mid-project supervisor review scheduled mid-July"}),(0,r.jsx)("li",{children:"SME evaluation of generated reports scheduled in August"}),(0,r.jsx)("li",{children:"Sequential dependencies are maintained in the task flow"}),(0,r.jsx)("li",{children:"The chart visualizes which tasks can be done in parallel"}),(0,r.jsx)("li",{children:"Click any colored cell to mark it as completed (gray with checkmark)"}),(0,r.jsx)("li",{children:'Use "Add Row" button to create new tasks or activities with custom properties'}),(0,r.jsx)("li",{children:"Drag task rows to reorder them within the project timeline"}),(0,r.jsx)("li",{children:"Edit or delete tasks and activities using the buttons that appear on hover"}),(0,r.jsx)("li",{children:"Progress and structure changes are automatically saved in your browser"})]})]}),G&&(0,r.jsx)(Fe,{}),_&&(0,r.jsx)(Ge,{}),(0,r.jsx)(Oe,{}),(0,r.jsx)(i,{files:h.files,position:h.position,isVisible:h.isVisible,onFileClick:e=>{g(e),v(!0),p({isVisible:!1,files:[],position:{x:0,y:0}})},onClose:$e}),(0,r.jsx)(n,{file:u,isOpen:f,onClose:()=>{v(!1),g(null)}}),(0,r.jsx)(l,{allFiles:Be(),onFileSelect:e=>{g(e.file),v(!0),y(!1)},onClose:()=>y(!1),isOpen:b}),(0,r.jsx)(d,{isOpen:B,onClose:()=>R(!1),ganttData:pe})]})}}}]);
//# sourceMappingURL=940.3bc2c4d0.chunk.js.map