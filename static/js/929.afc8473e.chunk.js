"use strict";(self.webpackChunkthesis_gantt_chart=self.webpackChunkthesis_gantt_chart||[]).push([[929],{2929:(e,s,t)=>{t.r(s),t.d(s,{default:()=>l});var r=t(5043),a=t(5016),i=t(3260),c=t(579);const l=()=>{const{handleOAuthCallback:e,isLoading:s}=(0,a.As)(),t=(0,i.Zp)(),l=(0,i.zy)(),[n,o]=(0,r.useState)(null),[d,h]=(0,r.useState)(!0);(0,r.useEffect)((()=>{(async()=>{try{h(!0),o(null);const s=window.location.href;let r,a,i,c;const n=s.indexOf("#"),d=n>-1?s.substring(0,n):s,m=d.indexOf("?");if(m>-1){const e=d.substring(m+1),s=new URLSearchParams(e);r=s.get("code"),a=s.get("state"),i=s.get("error"),c=s.get("error_description")}if(!r&&l.search){const e=new URLSearchParams(l.search);e.has("code")&&(r=e.get("code")),e.has("state")&&(a=e.get("state")),e.has("error")&&(i=e.get("error")),e.has("error_description")&&(c=e.get("error_description"))}if(i)throw new Error(c||`OAuth Error: ${i}`);if(!r)throw new Error("Authorization code not found in callback URL");if(!a)throw new Error("State parameter not found in callback URL");await e(r,a);const x=sessionStorage.getItem("auth_redirect_to")||"/";sessionStorage.removeItem("auth_redirect_to"),t(x,{replace:!0})}catch(n){0,o(n.message),h(!1)}})()}),[e,t]);const m=()=>{o(null),h(!0),window.location.reload()},x=()=>{t("/",{replace:!0})};return d||s?(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,c.jsx)("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"mx-auto mb-4",children:(0,c.jsxs)("svg",{className:"animate-spin h-12 w-12 text-gray-600 mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,c.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,c.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,c.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Completing Authentication"}),(0,c.jsx)("p",{className:"text-gray-600 mb-4",children:"Please wait while we securely process your GitHub authentication..."}),(0,c.jsxs)("div",{className:"space-y-2 text-sm text-gray-500",children:[(0,c.jsxs)("div",{className:"flex items-center justify-center",children:[(0,c.jsx)("svg",{className:"w-4 h-4 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,c.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"GitHub authorization received"]}),(0,c.jsxs)("div",{className:"flex items-center justify-center",children:[(0,c.jsx)("div",{className:"w-4 h-4 mr-2",children:(0,c.jsxs)("svg",{className:"animate-spin w-4 h-4 text-blue-500",fill:"none",viewBox:"0 0 24 24",children:[(0,c.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,c.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),"Exchanging authorization code for access token"]})]})]})})}):n?(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,c.jsx)("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"mx-auto mb-4",children:(0,c.jsx)("svg",{className:"h-12 w-12 text-red-500 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L5.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,c.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Authentication Failed"}),(0,c.jsx)("p",{className:"text-gray-600 mb-4",children:"We encountered an issue while processing your GitHub authentication."}),(0,c.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 mb-6",children:(0,c.jsx)("p",{className:"text-sm text-red-700",children:n})}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsx)("button",{onClick:m,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200",children:"Try Again"}),(0,c.jsx)("button",{onClick:x,className:"w-full bg-gray-300 hover:bg-gray-400 text-gray-700 font-medium py-2 px-4 rounded-md transition-colors duration-200",children:"Go to Home"})]}),(0,c.jsxs)("div",{className:"mt-6 text-xs text-gray-500",children:[(0,c.jsx)("p",{children:"If the problem persists, please check:"}),(0,c.jsxs)("ul",{className:"mt-2 space-y-1 text-left",children:[(0,c.jsx)("li",{children:"\u2022 Your internet connection"}),(0,c.jsx)("li",{children:"\u2022 GitHub service status"}),(0,c.jsx)("li",{children:"\u2022 Browser cookies and local storage"})]})]})]})})}):(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Processing..."}),(0,c.jsx)("p",{className:"text-gray-600",children:"Please wait while we complete your authentication."})]})})}}}]);
//# sourceMappingURL=929.afc8473e.chunk.js.map