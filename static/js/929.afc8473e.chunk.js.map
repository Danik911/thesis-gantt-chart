{"version":3,"file":"static/js/929.afc8473e.chunk.js","mappings":"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","sources":["components/OAuthCallback.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\n\r\nconst OAuthCallback = () => {\r\n  const { handleOAuthCallback, isLoading } = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [error, setError] = useState(null);\r\n  const [isProcessing, setIsProcessing] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const processCallback = async () => {\r\n      try {\r\n        setIsProcessing(true);\r\n        setError(null);\r\n\r\n        // Get the full URL\r\n        const fullUrl = window.location.href;\r\n        let code, state, errorParam, errorDescription;\r\n\r\n        // Check if query parameters are before the hash\r\n        const hashIndex = fullUrl.indexOf('#');\r\n        // Use the part before '#' if '#' exists, otherwise the full URL might be the search part\r\n        const preHashPart = hashIndex > -1 ? fullUrl.substring(0, hashIndex) : fullUrl;\r\n        \r\n        const questionMarkIndex = preHashPart.indexOf('?');\r\n        if (questionMarkIndex > -1) {\r\n            const queryParamsString = preHashPart.substring(questionMarkIndex + 1);\r\n            const urlParams = new URLSearchParams(queryParamsString);\r\n            code = urlParams.get('code');\r\n            state = urlParams.get('state');\r\n            errorParam = urlParams.get('error');\r\n            errorDescription = urlParams.get('error_description');\r\n        }\r\n\r\n        // Fallback to check location.search from router if primary parsing failed\r\n        // This is mostly for safety, primary logic relies on parsing fullUrl\r\n        if (!code && location.search) {\r\n            const routerUrlParams = new URLSearchParams(location.search);\r\n            if (routerUrlParams.has('code')) code = routerUrlParams.get('code');\r\n            if (routerUrlParams.has('state')) state = routerUrlParams.get('state');\r\n            if (routerUrlParams.has('error')) errorParam = routerUrlParams.get('error');\r\n            if (routerUrlParams.has('error_description')) errorDescription = routerUrlParams.get('error_description');\r\n        }\r\n        \r\n        // Check for OAuth errors\r\n        if (errorParam) {\r\n          throw new Error(errorDescription || `OAuth Error: ${errorParam}`);\r\n        }\r\n\r\n        // Check for required parameters\r\n        if (!code) {\r\n          throw new Error('Authorization code not found in callback URL');\r\n        }\r\n\r\n        if (!state) {\r\n          throw new Error('State parameter not found in callback URL');\r\n        }\r\n\r\n        // Handle the OAuth callback\r\n        await handleOAuthCallback(code, state);\r\n\r\n        // Success - redirect to main application\r\n        const redirectTo = sessionStorage.getItem('auth_redirect_to') || '/';\r\n        sessionStorage.removeItem('auth_redirect_to');\r\n        navigate(redirectTo, { replace: true });\r\n\r\n      } catch (error) {\r\n        // Log error in development only\r\n        if (process.env.NODE_ENV === 'development') {\r\n          // eslint-disable-next-line no-console\r\n          console.error('OAuth callback processing failed:', error);\r\n        }\r\n        setError(error.message);\r\n        setIsProcessing(false);\r\n      }\r\n    };\r\n\r\n    processCallback();\r\n  }, [handleOAuthCallback, navigate]);\r\n\r\n  const handleRetry = () => {\r\n    setError(null);\r\n    setIsProcessing(true);\r\n    // Restart the process\r\n    window.location.reload();\r\n  };\r\n\r\n  const handleGoHome = () => {\r\n    navigate('/', { replace: true });\r\n  };\r\n\r\n  if (isProcessing || isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"max-w-md w-full bg-white shadow-lg rounded-lg p-8\">\r\n          <div className=\"text-center\">\r\n            {/* Loading spinner */}\r\n            <div className=\"mx-auto mb-4\">\r\n              <svg \r\n                className=\"animate-spin h-12 w-12 text-gray-600 mx-auto\" \r\n                xmlns=\"http://www.w3.org/2000/svg\" \r\n                fill=\"none\" \r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <circle \r\n                  className=\"opacity-25\" \r\n                  cx=\"12\" \r\n                  cy=\"12\" \r\n                  r=\"10\" \r\n                  stroke=\"currentColor\" \r\n                  strokeWidth=\"4\"\r\n                ></circle>\r\n                <path \r\n                  className=\"opacity-75\" \r\n                  fill=\"currentColor\" \r\n                  d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n                ></path>\r\n              </svg>\r\n            </div>\r\n            \r\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n              Completing Authentication\r\n            </h2>\r\n            <p className=\"text-gray-600 mb-4\">\r\n              Please wait while we securely process your GitHub authentication...\r\n            </p>\r\n            \r\n            {/* Progress indicators */}\r\n            <div className=\"space-y-2 text-sm text-gray-500\">\r\n              <div className=\"flex items-center justify-center\">\r\n                <svg className=\"w-4 h-4 text-green-500 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n                GitHub authorization received\r\n              </div>\r\n              <div className=\"flex items-center justify-center\">\r\n                <div className=\"w-4 h-4 mr-2\">\r\n                  <svg className=\"animate-spin w-4 h-4 text-blue-500\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                  </svg>\r\n                </div>\r\n                Exchanging authorization code for access token\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"max-w-md w-full bg-white shadow-lg rounded-lg p-8\">\r\n          <div className=\"text-center\">\r\n            {/* Error icon */}\r\n            <div className=\"mx-auto mb-4\">\r\n              <svg \r\n                className=\"h-12 w-12 text-red-500 mx-auto\" \r\n                fill=\"none\" \r\n                stroke=\"currentColor\" \r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path \r\n                  strokeLinecap=\"round\" \r\n                  strokeLinejoin=\"round\" \r\n                  strokeWidth=\"2\" \r\n                  d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L5.082 16.5c-.77.833.192 2.5 1.732 2.5z\"\r\n                />\r\n              </svg>\r\n            </div>\r\n            \r\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n              Authentication Failed\r\n            </h2>\r\n            <p className=\"text-gray-600 mb-4\">\r\n              We encountered an issue while processing your GitHub authentication.\r\n            </p>\r\n            \r\n            {/* Error details */}\r\n            <div className=\"bg-red-50 border border-red-200 rounded-md p-3 mb-6\">\r\n              <p className=\"text-sm text-red-700\">{error}</p>\r\n            </div>\r\n            \r\n            {/* Action buttons */}\r\n            <div className=\"space-y-3\">\r\n              <button\r\n                onClick={handleRetry}\r\n                className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200\"\r\n              >\r\n                Try Again\r\n              </button>\r\n              <button\r\n                onClick={handleGoHome}\r\n                className=\"w-full bg-gray-300 hover:bg-gray-400 text-gray-700 font-medium py-2 px-4 rounded-md transition-colors duration-200\"\r\n              >\r\n                Go to Home\r\n              </button>\r\n            </div>\r\n            \r\n            {/* Help text */}\r\n            <div className=\"mt-6 text-xs text-gray-500\">\r\n              <p>If the problem persists, please check:</p>\r\n              <ul className=\"mt-2 space-y-1 text-left\">\r\n                <li>• Your internet connection</li>\r\n                <li>• GitHub service status</li>\r\n                <li>• Browser cookies and local storage</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // This should not be reached, but just in case\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n      <div className=\"text-center\">\r\n        <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n          Processing...\r\n        </h2>\r\n        <p className=\"text-gray-600\">\r\n          Please wait while we complete your authentication.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OAuthCallback; "],"names":["OAuthCallback","handleOAuthCallback","isLoading","useAuth","navigate","useNavigate","location","useLocation","error","setError","useState","isProcessing","setIsProcessing","useEffect","async","fullUrl","window","href","code","state","errorParam","errorDescription","hashIndex","indexOf","preHashPart","substring","questionMarkIndex","queryParamsString","urlParams","URLSearchParams","get","search","routerUrlParams","has","Error","redirectTo","sessionStorage","getItem","removeItem","replace","process","message","processCallback","handleRetry","reload","handleGoHome","_jsx","className","children","_jsxs","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","fillRule","clipRule","strokeLinecap","strokeLinejoin","onClick"],"sourceRoot":""}